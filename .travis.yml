language: php

php:
  - 5.6
  - 7.0


before_install:
  - echo "{\"http-basic\":{\"repo.magento.com\":{\"username\":\"${MAGENTO_USERNAME}\",\"password\":\"${MAGENTO_PASSWORD}\"}}}" > auth.json
  - composer install

# to avoid generating magento2's files
before_script:
  - mv tests/mock/* vendor/magento/module-catalog/Api/Data

script:
  - php vendor/bin/phpunit -c ./build/phpunit.xml.dist

after_script:
  - php vendor/bin/coveralls

env:
  global:
    - secure: "st1NwZg7nVVYRBB/x6Fjb/he9yMkJea9a97x+lJ2jp/WackqpOuTJH51c0QgwBnpYcGEbRawmNeuqnfEplYOFnIZx7HB71W2MGR5VEWAdjLVj6JxMnEzOSI8jDzAwC8y/03j89UC5r2vl/eTmiMzZcmUSG9ukHW3roR0VPXpWDCO+6nFq4DITftV8hm7AjRstW8J3H5Pj/245Vr8WvNZ0lYosJFWQdWIt3N1db2Tr8WZ5xyplrJK8XilqKmq7x/GfnyVZSDW2vI4B4+e4ZrBA6pCT8DEEuvHZG+mmA3bvZhusWPsG7koWwO9zHQpuinoKReWUM7Vya+xeb/OmhnriKYxJV84BYBeGhXyuIhpZTXxsvWPYU/48WVDBb3cxz2S6VWhqW0LW6AEWhJ9PG/2GxB/jIfU8/35l8e65vePQ712BC0VwrKepnJA8WhgAb8w99GWfRYdI8wh/HHOhBXh+p68/JQyNbRJxVrMksodHY0ClGER7+SAfDBRbpYowEomkrq3PiMCKdyI7MBwOs2T9i5ffXDLBbW3klfzB35FVsEtU3808o39XqAmCCe9YWT91BXCiCfNH11Bp7TY27BpO1gwSnpkk5EHDifyoXzquo8CrKDxrXI8+lwEaMIr7oI/FJrJlGk/QFP+wFELIfbPrt++DUmRIlRzfGrTaZqab70="
    - secure: "V7/t3NZUPGKRzo4WPOePPMTaN4qL8bhXbKXqg5x1wLDUzpLUuahwHrbgealEBPtjCpfjjERibPRnZYzNL2hnzCzoOzaU6jAb8SO8jML5U39d58oIRLZImmzu6ePwuMdLwnPswRDi7U1WdAwWErQ9jzsKiIoi2FVXatADOxAcsHPR3nzzG4TOvmh1JRJoGyV0/Wwu+PLxSz07vxXGRYXJVFmsaxipyxj9Rp7iM2SLVK8lnIlRgtjuT8plegptTUKyyHaGu3yQW5aBZExuoFMCD3Ni9gDvXkB+7nKZ88+jgmXeAYsvLggYfZXbQ63wP0HzfJMplhuOCLTD/xtF9wGJ60VpDeuC4U40KFF/6WB6k8lmh+AhZVcznK21BOIPK1ktE56or199ZzCbc7zrvFT8i4mDUNb5JzAMzRiHvrMD5licoJJr4nQJugs0jah90uMKEMtiusnnFu3uIiCTzsLLLlcVMa+9ZaJybDf6V7W1hifW4G/ruEkq9jytlmSfNg4v7MLwaGa9BcF25WkPlnsDBDC2+RujvK+yon6NNd6FSgSFHlsxSEixtG6fh2SPS3ecTTi6NRP30+eL5BS9t81sI2a340wOEGC9OHnVDTPP99kCflB/I5rYUU1D7ePpvv8TiDDwAs1Imy2of1spN8wct2S5KyLTMVk8Exqh96F980w="